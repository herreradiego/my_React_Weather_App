(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports=a(31)},17:function(e,t,a){},20:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},21:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(4),s=a.n(r),i=(a(17),a(1)),c=a.n(i),l=a(2),u=a(5),m=a(6),d=a(9),h=a(7),p=a(10),g=(a(20),a(21),a(8)),f=a.n(g),w=function(e){return console.log("from home: ",e.userData.suburb),o.a.createElement("div",{className:"container"},o.a.createElement("h2",{className:"weather-text"},"Welcome stranger, weather conditions for ",e.userData.suburb),o.a.createElement(f.a,{className:"weather-Icon",name:"owm",iconId:e.weatherData.id.toString(),flip:"horizontal",rotate:"90"}),o.a.createElement("h3",{className:"weather-description"}," ",e.weatherData.description),o.a.createElement("h4",{className:"weather-temp"},"temp: ",Math.round(e.weatherData.temp),"\u2103"),o.a.createElement("p",null,"Have a Lovely Day :)"))},v=function(){return o.a.createElement("h1",null," Something does not work well... :(")},E=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"LOADING..."),o.a.createElement("img",{className:"loader",src:"https://thumbs.gfycat.com/GroundedKeenFinnishspitz-size_restricted.gif"}))},b=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={userData:null,isLoading:!1,loadingError:!1,weatherData:{}},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0});var t=function(t,a){t&&a&&e.setState({userData:{country:t.address.country,city:t.address.state,userState:t.address.state,suburb:t.address.suburb,userPosition:{lat:a.coords.latitude,long:a.coords.longitude}}})},a=function(){var t=Object(l.a)(c.a.mark(function t(a){var n,o;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://openweathermap.org/data/2.5/weather?lat=".concat(e.state.userData.userPosition.lat,"&lon=").concat(e.state.userData.userPosition.long,"&appid=b6907d289e10d714a6e88b30761fae22"));case 3:return n=t.sent,t.next=6,n.json();case 6:o=t.sent,console.log("TIME DATA",o),e.setState({weatherData:{id:o.weather[0].id,main:o.weather[0].main,description:o.weather[0].description,icon:o.weather[0].icon,temp:o.main.temp,temp_min:o.main.temp_min,temp_max:o.main.temp_max},isLoading:!1}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}},t,null,[[0,11]])}));return function(e){return t.apply(this,arguments)}}(),n=function(){console.log("setting value"),e.setState({loadingError:!0,isLoading:!1})};function o(){return(o=Object(l.a)(c.a.mark(function e(n){var o,r,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(n.coords.latitude),console.log(n.coords.longitude),e.next=5,fetch("https://nominatim.openstreetmap.org/reverse?format=json&lat=-34.5832157&lon=-58.4907768");case 5:return o=e.sent,e.next=8,o.json();case 8:return r=e.sent,e.next=11,n;case 11:s=e.sent,t(r,s),a(r),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}},e,null,[[0,16]])}))).apply(this,arguments)}navigator.geolocation.getCurrentPosition(function(e){return o.apply(this,arguments)},function(e){n(),console.log("GEOLOCALIZATION IS NOT WORKING ON YOUR BROWSER. ERROR CODE: "+e.code)}),fetch("http://ip-api.com/json",{headers:new Headers({"content-type":"application/json"}),mode:"no-cors"}).then(function(t){console.log("ESTO",JSON.stringify(t));t.lat,t.lon;console.log("posicion: ",t),e.setState({userGeoPos:{latitude:t.lat,longitude:t.lon}})})}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"container"},this.state.isLoading?o.a.createElement(E,null):this.state.loadingError?o.a.createElement(v,null):this.state.userData&&this.state.weatherData?o.a.createElement(w,{weatherData:this.state.weatherData,userData:this.state.userData}):null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,1,2]]]);
//# sourceMappingURL=main.b3216609.chunk.js.map