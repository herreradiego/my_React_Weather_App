(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports=a(31)},18:function(e,t,a){},21:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(4),s=a.n(o),i=(a(18),a(1)),c=a.n(i),l=a(2),u=a(5),m=a(6),d=a(10),h=a(7),p=a(11),g=(a(21),a(8)),w=a.n(g),f=function(e){return r.a.createElement("div",{className:"home"},r.a.createElement("h2",{className:"weather-title"},"Welcome stranger, weather conditions for ",e.userData.city),r.a.createElement(w.a,{className:"weather-Icon",name:"owm",iconId:e.weatherData.id.toString(),flip:"horizontal",rotate:"90"}),r.a.createElement("h3",{className:"weather-description"}," ",e.weatherData.description),r.a.createElement("h4",{className:"weather-temp"},"temp: ",Math.round(e.weatherData.temp),"\u2103"))},v=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null," Something does not work well... :("),r.a.createElement("h6",null,"Error Message:",e.msg))},E=a(9),b=a.n(E),D=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"LOADING..."),r.a.createElement("img",{className:"loader",src:b.a}))},x=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={userData:null,isLoading:!1,loadingError:!1,weatherData:{}},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(this.setState({isLoading:!0}),window.navigator.geolocation){var t=function(){var e=Object(l.a)(c.a.mark(function e(t){var r,o,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t.coords.latitude),console.log(t.coords.longitude),e.next=5,fetch("https://nominatim.openstreetmap.org/reverse?format=json&lat=".concat(t.coords.latitude,"&lon=").concat(t.coords.longitude));case 5:return r=e.sent,e.next=8,r.json();case 8:return o=e.sent,e.next=11,t;case 11:s=e.sent,a(o,s),n(o),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}},e,null,[[0,16]])}));return function(t){return e.apply(this,arguments)}}();navigator.geolocation.getCurrentPosition(t,function(e){r(e.code)})}else r(4);var a=function(t,a){t&&a&&e.setState({userData:{country:t.address.country,city:t.address.state,userState:t.address.state,suburb:t.address.suburb,userPosition:{lat:a.coords.latitude,long:a.coords.longitude}}})},n=function(){var t=Object(l.a)(c.a.mark(function t(a){var n,r;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://openweathermap.org/data/2.5/weather?lat=".concat(e.state.userData.userPosition.lat,"&lon=").concat(e.state.userData.userPosition.long,"&appid=b6907d289e10d714a6e88b30761fae22"));case 3:return n=t.sent,t.next=6,n.json();case 6:r=t.sent,console.log("TIME DATA",r),e.setState({weatherData:{id:r.weather[0].id,main:r.weather[0].main,description:r.weather[0].description,icon:r.weather[0].icon,temp:r.main.temp,temp_min:r.main.temp_min,temp_max:r.main.temp_max},isLoading:!1}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}},t,null,[[0,11]])}));return function(e){return t.apply(this,arguments)}}(),r=function(t){e.setState({loadingError:!0,errorMsg:{1:"PERMISSION_DENIED: Please give permission to use Geolocation on your browser ",2:"POSITION_UNAVAILABLE: Your position is not available right now",3:"TIMEOUT",4:"Geolocation is not supported by this browser"}[t],isLoading:!1})}}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"container"},this.state.isLoading?r.a.createElement(D,null):this.state.loadingError?r.a.createElement(v,{msg:this.state.errorMsg}):this.state.userData&&this.state.weatherData?r.a.createElement(f,{weatherData:this.state.weatherData,userData:this.state.userData}):null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a.p+"static/media/gifCat.840d1cef.gif"}},[[12,1,2]]]);
//# sourceMappingURL=main.dd7d85db.chunk.js.map